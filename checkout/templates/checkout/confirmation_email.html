{% extends "base.html" %}

{% block content %}
    <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
            <td align="center">
                <table width="600" cellpadding="20" cellspacing="0" border="0" style="border: 1px solid #e2e2e2;">
                    <tr>
                        <td>
                            <h2>Thank You</h2>
                            <p>Your order information is below. A confirmation email will be sent to <strong>{{ order.email }}</strong>.</p>
                            
                            <table width="100%" cellpadding="5" cellspacing="0" border="0" style="border-collapse: collapse;">
                                <tr>
                                    <td style="border-bottom: 1px solid #ddd;">
                                        <strong>Order Number</strong>
                                    </td>
                                    <td style="border-bottom: 1px solid #ddd; text-align: right;">
                                        {{ order.order_number }}
                                    </td>
                                </tr>
                                <tr>
                                    <td style="border-bottom: 1px solid #ddd;">
                                        <strong>Order Date</strong>
                                    </td>
                                    <td style="border-bottom: 1px solid #ddd; text-align: right;">
                                        {{ order.date }}
                                    </td>
                                </tr>
                            </table>

                            <h3>Order Details</h3>
                            <table width="100%" cellpadding="5" cellspacing="0" border="0" style="border-collapse: collapse;">
                                {% for item in order.lineitems.all %}
                                <tr>
                                    <td style="border-bottom: 1px solid #ddd;">
                                        <strong>{{ item.product.name }}</strong>
                                    </td>
                                    <td style="border-bottom: 1px solid #ddd; text-align: right;">
                                        {{ item.quantity }} @ £{{ item.product.price }} each
                                    </td>
                                </tr>
                                {% endfor %}
                            </table>

                            <h3>Delivering To</h3>
                            <table width="100%" cellpadding="5" cellspacing="0" border="0" style="border-collapse: collapse;">
                                <tr>
                                    <td style="border-bottom: 1px solid #ddd;">
                                        <strong>Full Name</strong>
                                    </td>
                                    <td style="border-bottom: 1px solid #ddd; text-align: right;">
                                        {{ order.full_name }}
                                    </td>
                                </tr>
                                <tr>
                                    <td style="border-bottom: 1px solid #ddd;">
                                        <strong>Address 1</strong>
                                    </td>
                                    <td style="border-bottom: 1px solid #ddd; text-align: right;">
                                        {{ order.street_address1 }}
                                    </td>
                                </tr>
                                {% if order.street_address2 %}
                                <tr>
                                    <td style="border-bottom: 1px solid #ddd;">
                                        <strong>Address 2</strong>
                                    </td>
                                    <td style="border-bottom: 1px solid #ddd; text-align: right;">
                                        {{ order.street_address2 }}
                                    </td>
                                </tr>
                                {% endif %}
                                <tr>
                                    <td style="border-bottom: 1px solid #ddd;">
                                        <strong>Town or City</strong>
                                    </td>
                                    <td style="border-bottom: 1px solid #ddd; text-align: right;">
                                        {{ order.town_or_city }}
                                    </td>
                                </tr>
                                <tr>
                                    <td style="border-bottom: 1px solid #ddd;">
                                        <strong>Postal Code</strong>
                                    </td>
                                    <td style="border-bottom: 1px solid #ddd; text-align: right;">
                                        {{ order.postcode }}
                                    </td>
                                </tr>
                                <tr>
                                    <td style="border-bottom: 1px solid #ddd;">
                                        <strong>Country</strong>
                                    </td>
                                    <td style="border-bottom: 1px solid #ddd; text-align: right;">
                                        {{ order.country }}
                                    </td>
                                </tr>
                            </table>

                            <h3>Order Total</h3>
                            <table width="100%" cellpadding="5" cellspacing="0" border="0" style="border-collapse: collapse;">
                                <tr>
                                    <td style="border-bottom: 1px solid #ddd;">
                                        <strong>Order Total</strong>
                                    </td>
                                    <td style="border-bottom: 1px solid #ddd; text-align: right;">
                                        £{{ order.order_total }}
                                    </td>
                                </tr>
                                <tr>
                                    <td style="border-bottom: 1px solid #ddd;">
                                        <strong>Delivery</strong>
                                    </td>
                                    <td style="border-bottom: 1px solid #ddd; text-align: right;">
                                        £{{ order.delivery_cost }}
                                    </td>
                                </tr>
                                <tr>
                                    <td style="border-bottom: 1px solid #ddd;">
                                        <strong>Grand Total</strong>
                                    </td>
                                    <td style="border-bottom: 1px solid #ddd; text-align: right;">
                                        £{{ order.grand_total }}
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
{% endblock %}